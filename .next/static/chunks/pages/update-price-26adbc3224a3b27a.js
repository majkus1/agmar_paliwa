(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[625],{5419:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/update-price",function(){return a(9090)}])},9090:function(e,t,a){"use strict";a.r(t);var r=a(5893),i=a(7294),n=a(6154),u=a(1163),p=a(1664),l=a.n(p);t.default=function(){let[e,t]=(0,i.useState)(""),[a,p]=(0,i.useState)(""),c=(0,u.useRouter)(),s=async()=>{try{let e=await n.Z.get("https://agmar-paliwa.pl/apis/fuel-price"),a=await n.Z.get("https://agmar-paliwa.pl/apis/date-price");t(e.data.price),p(a.data.datprice)}catch(e){console.error("Error fetching data",e)}};(0,i.useEffect)(()=>{s()},[]);let o=async t=>{t.preventDefault();let r=localStorage.getItem("token");if(!r){alert("You must be logged in to update the price and date"),c.push("/login");return}try{await n.Z.put("https://agmar-paliwa.pl/apis/fuel-price",{price:e},{headers:{Authorization:r}}),await n.Z.put("https://agmar-paliwa.pl/apis/date-price",{datprice:a},{headers:{Authorization:r}}),alert("Price and date updated successfully")}catch(e){alert("Failed to update price and date")}};return(0,r.jsxs)("form",{onSubmit:o,className:"login-to-panel",children:[(0,r.jsx)("h1",{children:"AGMAR"}),(0,r.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"New price",required:!0}),(0,r.jsx)("input",{type:"text",value:a,onChange:e=>p(e.target.value),placeholder:"Date of new price",required:!0}),(0,r.jsx)("button",{type:"submit",children:"Zmień cenę i datę"}),(0,r.jsx)(l(),{href:"/",children:"Strona gł\xf3wna"})]})}},1163:function(e,t,a){e.exports=a(6885)}},function(e){e.O(0,[664,154,774,888,179],function(){return e(e.s=5419)}),_N_E=e.O()}]);